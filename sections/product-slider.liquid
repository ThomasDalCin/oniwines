<!-- product slider id footer section -->
<div class="w-full h-auto px-5">
  <!-- main wrapper section -->
  <div class="w-full h-auto rounded-[8px] bg-(--beige-color) p-5 flex flex-col items-start justify-center gap-y-[72px]">

    <!-- container headings -->
    <div class="w-full h-auto flex flex-row justify-between items-center">
      <h2 class="font-(family-name:--main-title-mobile-font-family) text-[40px] leading-[105%] tracking-[1.02px] lg:text-[96px] lg:tracking-[2.88px]" style="
            {% if section.settings.is_stroke_left %}
              color: transparent; 
             -webkit-text-stroke-width: 1.5px;
             -webkit-text-stroke-color: var(--beige-light);
            {% else %}
            color: var(--beige-light)
            {% endif %}">
        {{ section.settings.main_title_left | default: "Esplora" | upcase }}</h2>

      <h2 class="font-(family-name:--main-title-mobile-font-family) text-[40px] leading-[105%] tracking-[1.02px] lg:text-[96px] lg:tracking-[2.88px]" style="{% if section.settings.is_stroke_right %}
              color: transparent; 
             -webkit-text-stroke-width: 1.5px;
             -webkit-text-stroke-color: var(--beige-light);
            {% else %}
            color: var(--beige-light)
            {% endif %}">
        {{ section.settings.main_title_right | default: "I PRODOTTI" | upcase }}</h2>
    </div>

     <!-- container slider showcase -->

   
{% for collection in collections %}
    {% if collection.title == "Oniwines" %}
      <!-- showcase container -->
       
      <div class="w-full h-auto overflow-x-scroll flex flex-row justify-start items-center gap-x-5 px-5 py-5" data-collection="{{ collection.title | replace: ' ', '-' | downcase }}">
        
        {% for product in collection.products %}
          <div class="card-product w-[250px] min-w-[250px] min-h-[400px] h-[400px] p-2.5 lg:w-[540px] lg:h-[auto] rounded-[18px] flex flex-col items-center justify-between lg:justify-center  relative group " data-product="{{ product.title | downcase }}">
  
           
  
            <!-- container image -->
           
            <div class="w-[355px] h-[121px]">
  <img class="page-image w-full h-full object-contain object-center rounded-[8px]" 
       src="{{ product.featured_image | img_url: 'master' }}" 
       alt="{{ product.featured_image.alt }}">
</div>

        {% endfor %}
      </div>
    {% endif %}
  {% endfor %}
  </div>




</div>







<script>
    document.addEventListener('DOMContentLoaded', () => {
        //handle product id slider active
        const url = new URL(window.location.href);
        const pathName = url.pathname;
        const pathSegments = pathName.split("/").filter((segment) => segment !== "");
  
        //get elements;
        const productItem = document.querySelectorAll('.product-item');
  
        productItem.forEach((item) => {
          const productData = item.getAttribute('data-product').toLowerCase();
          const productDataCustom = productData.replace(/ /g, "-");
  
          if(pathSegments.some((i) => productDataCustom == i)){
             const classesToAdd = ["border", "border-(--beige-light)", "border-[11px]"]
             const pageImage = item.querySelector('.page-image');
             const arrowImage = item.querySelector('.arrow-product-box');
             classesToAdd.forEach((classToAdd) => {
                pageImage.classList.add(classToAdd);
             }) 
             arrowImage.classList.remove('hidden')
          }
  
        });  
    })
</script>


{% schema %}
  {
    "name": "product_slider",
    "settings": [
      {
        "type": "text",
        "id": "main_title_left",
        "label": "Main section title left"
      }, {
        "type": "text",
        "id": "main_title_right",
        "label": "Main section title right"
      }, {
        "type": "checkbox",
        "id": "is_stroke_left",
        "label": "Stroke text left",
        "default": false
      }, {
        "type": "checkbox",
        "id": "is_stroke_right",
        "label": "Stroke text right",
        "default": true
      }
    ]
  }
{% endschema %}